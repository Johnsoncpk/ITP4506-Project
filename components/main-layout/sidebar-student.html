<a id="show-sidebar" class="btn btn-sm btn-dark" href="#">
  <i class="fas fa-bars"></i>
</a>
<nav id="sidebar" class="sidebar-wrapper">
  <div class="sidebar-content">
    <div class="sidebar-brand">
      <a href="http://127.0.0.1/itp4506/Attendance-Online-Web/user/home.html">attendance-online</a>
      <div id="close-sidebar">
        <i class="fas fa-times"></i>
      </div>
    </div>
    <div class="sidebar-header">
      <div class="user-pic">
        <img class="img-responsive img-rounded"
          src="http://127.0.0.1/itp4506/Attendance-Online-Web/img/student-icon.png" alt="User picture" />
      </div>
      <div class="user-info">
        <span id="user-name">Johnson Chong </span>
        <span class="user-role">Student</span>
        <!--<button class="btn justify-content-end"><i class='fas fa-exclamation' style='font-size:24px;color:red'></i></button> -->
      </div>
      <div>
        <button id="notice" data-toggle="modal" data-target="#listModal" class="btn justify-content-end"><i
            style='font-size:20px;color:rgb(255, 255, 255)' class="fas fa-envelope"></i></button>
      </div>
    </div>
    <!-- sidebar-header  -->

    <div class="sidebar-menu">
      <ul>
        <li class="header-menu">
          <span>General</span>
        </li>
        <li>
          <a href="http://127.0.0.1/itp4506/Attendance-Online-Web/student/profile.html">
            <i class="fas fa-id-card"></i>
            <span id="profile">Profile</span>
            <!-- <span class="badge badge-pill badge-primary">Beta</span> -->
          </a>
        </li>
        <li>
          <a href="http://127.0.0.1/itp4506/Attendance-Online-Web/student/report.html?type=student">
            <i class="fas fa-chart-bar"></i>
            <span>Report</span>
            <!-- <span class="badge badge-pill badge-primary title='Please fill your information.'">Beta</span> -->
          </a>
        </li>
      </ul>
    </div>
    <!-- sidebar-menu  -->
  </div>
  <!-- sidebar-content  -->
  <div class="sidebar-footer">
    <a href="http://127.0.0.1/itp4506/Attendance-Online-Web/">
      Logout
      <i class="fas fa-sign-out-alt"></i>
    </a>
  </div>
</nav>
<!-- sidebar-wrapper  -->

<!-- modal -->

<div class="modal fade" id="listModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" style="color:lightskyblue" id="exampleModalLabel">Notification</h5>
        <button type="button" id="x" class="close" data-dismiss="modal" aria-label="Close">
          <span style="color:rgb(17, 22, 39);" aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table">
          <tbody id="table">
            <tr class="table head">
              <th scope="col">Type</th>
              <th scope="col">Description</th>
              <th scope="col"></th>
            </tr>
            <tr id="tr-1" class="head">
              <td scope="col">Announcement</td>
              <td scope="col">IVE Epidemic prevention measures</td>
              <td scope="col"><button type="button" data-toggle="modal" data-target="#announcementModal"
                  class="btn btn-primary sicklist" data-dismiss="modal" name="1">Detail</button></td>
            </tr>
            <tr id="tr-2" class="head">
              <td scope="col" style="color: red;">Upload Certification</td>
              <td scope="col">Please Provide Evidence for Sick leave</td>
              <td scope="col"><button type="button" data-toggle="modal" data-target="#sickleaveModal"
                  class="btn btn-primary sicklist" data-dismiss="modal" name="2">Detail</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
<style>
  .head th {
    color: rgb(17, 22, 39);
  }

  .head td {
    color: rgb(17, 22, 39);
  }
</style>

<div class="modal fade" id="sickleaveModal" tabindex="-1" role="dialog" aria-labelledby="sickleaveModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" style="color:rgb(58, 152, 211)" id="sickleaveModalLabel">Sick Leave Certification Upload</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form id="sickForm" onsubmit="return false;">
        <div class="modal-body">
          <div class="form-group">
            <p type="text" class="form-text text-danger">In 2021-11-25, The system recorded that you have requested a
              sick leave, please provide the certification by 2021-12-2</p>
          </div>
          <div class="form-group">
            <label for="recipient-name" style="color:rgb(48, 85, 155)" class="col-form-label">Illness:</label>
            <input type="text" placeholder="e.g. stomache" class="form-control" id="recipient-name" required>
          </div>
          <div class="form-group">
            <label for="message-text" style="color:rgb(48, 85, 155)" class="col-form-label">Medical
              Certification:</label>
            <input type="file" class="form-control" id="recipient-name" required>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" data-toggle="modal" id="upload" data-target="#sickleaveModal"
                  class="btn btn-primary sick" data-dismiss="modal" name="2">Upload</button>
          <button type="button" id="closebtn" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </form>
    </div>
  </div>
</div>


<div class="modal fade" id="announcementModal" tabindex="-1" role="dialog" aria-labelledby="announcementModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" style="color:lightskyblue" id="announcementModalLabel">IVE Epidemic prevention measures</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <textarea type="text" class="form-control" rows="12" disabled >
The Centers for Disease Control and Prevention is working to help keep you and your community safe from COVID-19. 

Take the following everyday steps to protect yourself and others: 
Get a COVID-19 vaccine as soon as you can.

If you are not fully vaccinated, wear a mask in indoor public places. (Children under the age of 2 should not 
wear a mask.)

If you are fully vaccinated, wear a mask in indoor public places if you are in an area of substantial or high 
transmission or if you have a weakened immune system.

Stay 6 feet from others who are not part of your household.

Avoid crowds and poorly ventilated spaces.

Wash your hands often. 

Cover coughs and sneezes. 

Clean high touch surfaces daily. 


IVE admin
10-11-2021 09:30
            </textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success sick" data-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
  integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
  integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script>
  jQuery(function ($) {
    $(".sick").click(function(){
      $("#tr-" + name).hide();
    })

    var name="";

    $(".sicklist").click(function(){
      name = $(this).prop('name');
      $("#recipient-class").val($("#class-"+name).text());
      $("#recipient-name").val($("#name-"+name).text());
    })
    $("#sickForm").submit(function () {
      $("#closebtn").click();
      $('#x').click();
      //$("#listModal").modal("hide");
      //$("#notice").hide();
    })

    $("#user-name").text(
      localStorage.getItem("firstName") + " " + localStorage.getItem("lastName")
    );

    $('#exampleModal').on('show.bs.modal', function (event) {
      var button = $(event.relatedTarget) // Button that triggered the modal
      var recipient = button.data('whatever') // Extract info from data-* attributes
      var modal = $(this)
    })

    $(".sidebar-dropdown > a").click(function () {
      $(".sidebar-submenu").slideUp(200);
      if ($(this).parent().hasClass("active")) {
        $(".sidebar-dropdown").removeClass("active");
        $(this).parent().removeClass("active");
      } else {
        $(".sidebar-dropdown").removeClass("active");
        $(this).next(".sidebar-submenu").slideDown(200);
        $(this).parent().addClass("active");
      }
    });

    $("#close-sidebar").click(function () {
      $(".page-wrapper").removeClass("toggled");
    });
    $("#show-sidebar").click(function () {
      $(".page-wrapper").addClass("toggled");
    });
    var url = "http://127.0.0.1/ITP4506/Attendance-Online-Server/student";
    $.ajax({
      type: "post",
      url: url + "/viewPersonal.php",
      data: {
        id: localStorage.getItem("id"),
      },
      success: function (data, status, xhr) {
        if (data[0].mobile == 0) {
          $('<span class="badge badge-pill badge-danger" title="Please finish your profile." >!</span> ').insertAfter('#profile');
        }
      },
      error: function (jqXhr, textStatus, errorMessage) { },
    });
  });
</script>